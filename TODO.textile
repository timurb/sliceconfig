h1. The TODO list

h2. Things that should be done but require integrated testing

 * SSL certs should be generated by trusted dedicated CA.
 ** It don't have to be worldwide trusted if we are to run intersite SSL connections but should be trusted by ourselves to protect from man-in-the-middle attacks
 * bind in all scripts to specific paths (`/{etc,opt}/sliceconfig`) rather than relative (`dirname $0`)
 ** if and when we need to bind to relative paths we'd rather code shell-parameter driven behaviour (`_script_ -f '/path/to/sliceconfig'`)
 * use only signed RPMs -- it protects us from attacker replacing our RPM in our RPM repository
 * package software which we build ourselves on the host into RPM -- helps to update and verify that all installed files are the same that we installed
 ** except gems as they have rather wicked build/install/dependencies system
 * `install/scripts/setup_httpd_passenger.sh` has `exit` command at line 15 so that it does nothing it was supposed to do -- just only copy httpd.conf
 It is a possible cause of https://www.pivotaltracker.com/projects/57704?story_id=5314707
 * I'd rather you do not put private ssh keys on each host (see setup_users_admin.sh). Even though they are password protected (aren't they?) if the attacker get access to them all your hosts will be compromised
 * The host-generated key for root has no password. If the attacker gets root access to one of your hosts all hosts which this host had access to will be compromised at once.


h2. Things that I think worth to be done but not necessary

 * `scripts/configuration.sh`:
 ** split `copy_file` into several functions
 ** make `copy_file` and `get_value` DRYer
 * download RPMs from network rather than bringing them with ourselvers -- it makes updates easier and we save some diskspace and bandwidth
 * svnserve_conf in setup_monit_svnserve.sh, ngconf in setup_nginx_*.sh are specified by variables. If we are to change them we'd rather put them to somewhere like etc.conf and retrieve their values with get_value()
 * do we actually need sendmail? If we are to send mail outwards we could use something as simple as ssmtp or the postfix with smtpd switched off (if we need the mail not to be lost ever) -- it would be much more secure

h2. Just some questions

 * why passenger and not unicorn?
 * does httpd and nginx run as root? (see `security/scripts/setup_perms_{httpd,nginx}.sh`)
 It is much safer to run them as a dedicated user

h2. Tasks to do later

 * separate templates from scripts in `install/scripts/{setup_backup.sh,setup_nginx_ca.sh}, install/interactive/*`
 * bundle optimization
